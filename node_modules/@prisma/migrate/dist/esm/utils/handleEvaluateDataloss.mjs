var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
import chalk from "chalk";
import { getCommandWithExecutor } from "@prisma/sdk";
function handleUnexecutableSteps(unexecutableSteps, createOnly = false) {
  if (unexecutableSteps && unexecutableSteps.length > 0) {
    const messages = [];
    messages.push(`${chalk.bold.red("\n\u26A0\uFE0F We found changes that cannot be executed:\n")}`);
    for (const item of unexecutableSteps) {
      messages.push(`${chalk(`  \u2022 Step ${item.stepIndex} ${item.message}`)}`);
    }
    console.info();
    if (createOnly) {
      console.error(`${messages.join("\n")}
`);
      return void 0;
    } else {
      return `${messages.join("\n")}

You can use ${getCommandWithExecutor("prisma migrate dev --create-only")} to create the migration file, and manually modify it to address the underlying issue(s).
Then run ${getCommandWithExecutor("prisma migrate dev")} to apply it and verify it works.
`;
    }
  }
  return void 0;
}
__name(handleUnexecutableSteps, "handleUnexecutableSteps");
export {
  handleUnexecutableSteps
};
